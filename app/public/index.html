<!DOCTYPE html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>pebbleidea</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="vendor/angular-ui/build/angular-ui.css">
    <link rel="stylesheet" href="vendor/AngularJS-Toaster/toaster.css">
    <link rel="stylesheet" href="css/main.css">


    <script src="vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
  </head>
  <body ng-app="pebbleidea">
    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->
    <div ng-controller="IdeasCtrl">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">pebbleidea</a>
          </div>
          <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
              <li><a ng-click='addNewIdea()' href="#">Add a new idea</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>

      <div class="container">
        <div class="idea-list">

          <div class="idea" ng-repeat="idea in reverse(ideas()) | filter: filterCurrentID ">
            <div class="idea-text">{{idea.text}}</div>
            <div class="idea-submitted">Submitted by {{idea.submittedDisplay}}</div>
          </div>

        </div>

        <div class="current-idea-container" id="{{currentIdea()._id}}" leap-swipe-left="castVote('Yes', currentIdea()._id)" leap-swipe-right="castVote('No', currentIdea()._id)">
          <div class="vote-no-button"></div>

          <div class="current-idea">
            <div class="idea-text">{{currentIdea().text}}</div>
            <div class="idea-submitted">Submitted by {{currentIdea().submittedDisplay}}</div>
          </div>

          <div class="vote-no-button"></div>          
        </div>

        <script type="text/ng-template" id="add-new-idea-form.html">
          <div class="modal-header">
            <h3>Add New Idea</h3>
          </div>

          <div class="modal-body">
            <form>
              <div class="form-item">
                <label for="">Your Name</label>
                <input type="text" ng-model="form.submittedDisplay" />
              </div>

              <div class="form-item">
                <label for="">Your Mobile Number</label>
                <input type="text" ng-model="form.submittedFrom" placeholder="+44" />
              </div>

              <div class="form-item">
                <label for="">Your Idea</label>
                <textarea ng-model="form.text"></textarea>  
              </div>
          </div>

          <div class="modal-footer">
            <button ng-click="ok()" class="btn btn-primary">Add New Idea</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
          </div>
        </script>

        <toaster-container> </toaster-container>

      </div><!-- /.container -->
    </div>

    <script src="/primus/primus.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="vendor/jquery/jquery.min.js"><\/script>')</script>
    <script src="vendor/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="vendor/leapjs/leap.js"></script>

    <script src="vendor/angular/angular.js"></script>
    <script src="vendor/angular-route/angular-route.js"></script>
    <script src="vendor/angular-animate/angular-animate.js"></script>
    <script src="vendor/AngularJS-Toaster/toaster.js"></script>
    <script src="vendor/angular-leap/build/angular-leap.js"></script>
    <script src="vendor/angular-ui/build/angular-ui.js"></script>
    <script src="vendor/angular-ui-bootstrap/dist/ui-bootstrap-0.9.0.js"></script>
    <script src="vendor/angular-ui-bootstrap/dist/ui-bootstrap-tpls-0.9.0.js"></script>

    <script src="js/main.js"></script>
    <script src="js/services/PrimusService.js"></script>
    <script src="js/services/IdeaService.js"></script>

    <script src="js/controllers/AddIdeaCtrl.js"></script>
    <script src="js/controllers/IdeasCtrl.js"></script>

    <script>
      var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
  </body>
</html>
