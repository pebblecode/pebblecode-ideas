<!DOCTYPE html>
<html class="no-js">
  <head>
    <title>pebbleidea</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Pebblecode Ideas App">

    <link rel="stylesheet" href="/vendor/responsive/rel/responsive.css" />
    <link rel="stylesheet" href="/css/main.css">

    <script src="/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    <script>
      (function() {
        var config = {
          kitId: 'jgz5xsv',
          scriptTimeout: 3000
        };
        var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/(\s|^)wf-loading(\s|$)/g," ");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script"),d=false;tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(d||a&&a!="complete"&&a!="loaded")return;d=true;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
      })();
    </script>
  </head>
  <body ng-app="pebbleidea" id="app">
    <div class="wrapper" ng-controller="IdeasCtrl">

      <nav role="navigation">
        <div class="container">
          <div class="row logos">
            <div class="col-m-6 logo pebblecode">
              <a ng-click='addNewIdea()' href="#">
                <img src="/images/pebblecode-logo.svg" width="235px" height="60px" />
              </a>
            </div>
            <div class="col-m-6 logo az">
              <a ng-click="fullScreen()" href="#">
                <img src="/images/az-logo.svg" width="235px" height="60px" />
              </a>
            </div>
          </div>
        </div>
        <a ng-click="recievedNewIdea()" href="#">test</a>
      </nav>
      <!--<div class="slanted-bottom"></div>-->

      <main role="application" class="container">
        <div class="idea row" ng-repeat="idea in displayItems()" ng-animate="'ideas'">
          <div class="idea-text tk-museo-sans col-m-12">{{idea.text}}</div>
        </div>
        <toaster-container toaster-options="{'position-class': 'toast-bottom-full-width'}"> </toaster-container>

      </main>

      <div class="current-idea row no-gutter" id="{{currentIdea()._id}}" leap-swipe-left="castVote('Yes', currentIdea()._id)" leap-swipe-right="castVote('No', currentIdea()._id)">
        <div class="vote-button no col-m-1" ng-click="castVote('No', currentIdea()._id)">
          
        </div>

        <div class="idea-text col-m-10 tk-brandon-grotesque">
          {{currentIdea().text}}
        </div>

        <div class="vote-button yes col-m-1" ng-click="castVote('Yes', currentIdea()._id)">
          
        </div>
      </div>

      <footer role="footer" class="container toaster" ng-if="newIdeaRecieved == false">

        <section class="row sms-details no-gutter tk-museo-sans">
          <div class="col-m-12 outer">
            <div class="inner">
              <img src="/images/phone.svg" />
              <p>Text [Idea] @ [Your Name] to 01887 451 030</p>
            </div>
          </div>
        </section>
      </footer>

      <footer role="footer" class="container toaster" ng-if="newIdeaRecieved == true">
        <section class="row new-message no-gutter tk-museo-sans">
          <div class="col-m-12 outer">
            <div class="inner">
              <img src="/images/phone.svg" />
              <p>A new idea has been added!</p>
              <p>{{newIdeaAdded.text}} from {{newIdeaAdded.submittedDisplay}}</p>
              <p>You can now vote on it.</p>
            </div>
          </div>
        </section>
      </footer>

      <script type="text/ng-template" id="add-new-idea-form.html">
        <div class="modal-header">
          <h3>Add New Idea</h3>
        </div>

        <div class="modal-body">
          <form>
            <div class="form-item">
              <label for="">Your Name</label>
              <input type="text" ng-model="form.submittedDisplay" />
            </div>

            <div class="form-item">
              <label for="">Your Mobile Number</label>
              <input type="text" ng-model="form.submittedFrom" placeholder="+44" />
            </div>

            <div class="form-item">
              <label for="">Your Idea</label>
              <textarea ng-model="form.text"></textarea>  
            </div>
        </div>

        <div class="modal-footer">
          <button ng-click="ok()" class="btn btn-primary">Add New Idea</button>
          <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
      </script>

    </div>

    <script src="/primus/primus.js"></script>
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/responsive/rel/responsive.js"></script>
    <script src="/vendor/leapjs/leap.js"></script>

    <script src="/vendor/angular/angular.js"></script>
    <script src="/vendor/angular-route/angular-route.js"></script>
    <script src="/vendor/angular-animate/angular-animate.js"></script>
    <script src="/vendor/AngularJS-Toaster/toaster.js"></script>
    <script src="/vendor/angular-leap/build/angular-leap.js"></script>
    <script src="/vendor/angular-ui/build/angular-ui.js"></script>
    <script src="/vendor/angular-ui-bootstrap/dist/ui-bootstrap-0.9.0.js"></script>
    <script src="/vendor/angular-ui-bootstrap/dist/ui-bootstrap-tpls-0.9.0.js"></script>

    <script src="/js/main.js"></script>
    <script src="/js/services/PrimusService.js"></script>
    <script src="/js/services/IdeaService.js"></script>

    <script src="/js/controllers/AddIdeaCtrl.js"></script>
    <script src="/js/controllers/IdeasCtrl.js"></script>
  </body>
</html>
