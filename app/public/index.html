<!DOCTYPE html>
<html class="no-js">
  <head>
    <title>pebbleidea</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Pebblecode Ideas App">

    <link rel="stylesheet" href="/vendor/responsive/rel/responsive.css" />
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/nav.css">
    <link rel="stylesheet" href="/css/ideas.css">
    <link rel="stylesheet" href="/css/vote.css">
    <link rel="stylesheet" href="/css/popup.css">
    <link rel="stylesheet" href="/css/slide.css">

    <script src="/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    <script>
      (function() {
        var config = {
          kitId: 'jgz5xsv',
          scriptTimeout: 3000
        };
        var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/(\s|^)wf-loading(\s|$)/g," ");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script"),d=false;tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(d||a&&a!="complete"&&a!="loaded")return;d=true;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
      })();
    </script>
  </head>

  <body ng-app="pebbleidea" id="app">

    <nav role="navigation">
      <div class="logos clearfix">
        <div class="logo pebblecode">
          <a ng-click="addNewIdea()" href="#">
            <img src="/images/pebblecode-logo.svg" width="235px" height="60px" />
          </a>
        </div>
        <div class="logo az">
          <a ng-click="fullScreen()" href="#">
            <img src="/images/az-logo.svg" width="235px" height="60px" />
          </a>
        </div>
      </div>
    </nav>

    <main class="ideas clearfix" role="application" ng-controller="IdeasCtrl">
      <div class="idea" ng-repeat="idea in getDisplayItems()" ng-animate="'ideas'">
        <div class="idea-text tk-museo-sans">{{idea.text}}</div>
      </div>
    </main>

    <!-- The current idea being voted on -->
    <section class="vote clearfix" ng-controller="VoteCtrl"
      leap-swipe-up="nextIdea()" leap-swipe-down="prevIdea()"
      leap-swipe-left="voteNo()" leap-swipe-right="voteYes()">

      <div ng-class="{'yes': votedYes, 'no': votedNo}" class="vote-caster clearfix" id="{{voteItem._id}}" ng-if="!voteCast">
        <div class="vote-button no col-m-1" ng-click="voteNo()"></div>

        <div class="idea-text col-m-10 tk-brandon-grotesque">
          {{voteItem.text}}
        </div>

        <div class="vote-button yes col-m-1" ng-click="voteYes()" ></div>
      </div>
    </section>
    <!-- // end the current item being voted on -->

    <section class="popup-container" ng-controller="PopupCtrl">
      <div role="popup" class="tk-museo-sans clearfix" ng-if="!newIdea">

        <section class="img">
          <img src="/images/phone.svg" />
        </section>

        <section class="text">
          <p>Text [Idea] @ [Your Name] to 01887 451 030</p>
        </section>
      </div>

      <div role="popup" class="tk-museo-sans clearfix" ng-if="newIdea">

        <section class="img">
          <img src="/images/phone.svg" />
        </section>

        <section class="text">
          A new idea has been added!<br />
          {{newIdea.text}} from {{newIdea.submittedDisplay}}<br />
          You can now vote on it.
        </section>
      </div>
    </section>

    <script type="text/ng-template" id="add-new-idea-form.html">
      <div class="modal-header">
        <h3>Add New Idea</h3>
      </div>

      <div class="modal-body">
        <form>
          <div class="form-item">
            <label for="">Your Name</label>
            <input type="text" ng-model="form.submittedDisplay" />
          </div>

          <div class="form-item">
            <label for="">Your Mobile Number</label>
            <input type="text" ng-model="form.submittedFrom" placeholder="+44" />
          </div>

          <div class="form-item">
            <label for="">Your Idea</label>
            <textarea ng-model="form.text"></textarea>
          </div>
      </div>

      <div class="modal-footer">
        <button ng-click="ok()" class="btn btn-primary">Add New Idea</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
      </div>
    </script>

    <script src="/primus/primus.js"></script>
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/responsive/rel/responsive.js"></script>
    <script src="/vendor/leapjs/leap.js"></script>

    <script src="/vendor/angular/angular.js"></script>
    <script src="/vendor/angular-animate/angular-animate.js"></script>
    <script src="/vendor/angular-leap/build/angular-leap.js"></script>

    <script src="/js/main.js"></script>
    <script src="/js/services/PrimusService.js"></script>
    <script src="/js/services/IdeaService.js"></script>
    <script src="/js/services/VoteService.js"></script>

    <script src="/js/controllers/AddIdeaCtrl.js"></script>
    <script src="/js/controllers/IdeasCtrl.js"></script>
    <script src="/js/controllers/PopupCtrl.js"></script>
    <script src="/js/controllers/VoteCtrl.js"></script>

  </body>
</html>
